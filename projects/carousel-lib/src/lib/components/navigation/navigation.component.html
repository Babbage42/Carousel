<ng-template #leftControl>
  @if (alwaysShowControls || loop || rewind || (currentPosition > 0 &&
  !hasReachedStart)) {
  <button
    tabindex="0"
    [style.left.px]="carouselRegistry.hasExternalControls() ? null : 0"
    [style.top]="
      carouselRegistry.hasExternalControls()
        ? null
        : 'calc(50% - ' + iconSize / 2 + 'px)'
    "
    class="control-left"
    (click)="slideToPrev()"
  >
    @if (customLeftArrow) {
    <ng-container *ngTemplateOutlet="customLeftArrow"></ng-container>
    }@else {
    <svg
      [attr.width]="iconSize || '24'"
      [attr.height]="iconSize || '24'"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
      style="cursor: pointer"
    >
      <path
        d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"
        fill="currentColor"
      ></path>
    </svg>
    }
  </button>
  }
</ng-template>

<ng-template #rightControl>
  @if (alwaysShowControls || loop || rewind || (currentPosition < totalSlides -
  1 && !hasReachedEnd)) {
  <button
    tabindex="0"
    [style.right.px]="carouselRegistry.hasExternalControls() ? null : 0"
    [style.top]="
      carouselRegistry.hasExternalControls()
        ? null
        : 'calc(50% - ' + iconSize / 2 + 'px)'
    "
    class="control-right"
    (click)="slideToNext()"
  >
    @if (customRightArrow) {
    <ng-container *ngTemplateOutlet="customRightArrow"></ng-container>
    } @else {
    <svg
      [attr.width]="iconSize || '24'"
      [attr.height]="iconSize || '24'"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
      style="cursor: pointer"
    >
      <path
        d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"
        fill="currentColor"
      ></path></svg
    >}
  </button>
  }
</ng-template>

<div class="controls">
  @if (!carouselRegistry.hasExternalControls()) {
  <ng-container *ngTemplateOutlet="leftControl"></ng-container>
  <ng-container *ngTemplateOutlet="rightControl"></ng-container>
  }
</div>

<div>{{ totalSlides }}</div>
